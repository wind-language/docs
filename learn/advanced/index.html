<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="generator" content="mkdocs-1.6.1, mkdocs-terminal-4.7.0">
    
    <meta name="description" content="Wind, designed for safety, simplicity, and performance."> 
    
    <meta name="author" content="utcq"> 
    
    <link rel="canonical" href="https://doc.wind-lang.me/learn/advanced/"><link rel="icon" type="image/png" sizes="192x192" href="../../img/android-chrome-192x192.png" />
<link rel="icon" type="image/png" sizes="512x512" href="../../img/android-chrome-512x512.png" />
<link rel="apple-touch-icon" sizes="180x180" href="../../img/apple-touch-icon.png" />
<link rel="shortcut icon" type="image/png" sizes="48x48" href="../../img/favicon.ico" />
<link rel="icon" type="image/png" sizes="16x16" href="../../img/favicon-16x16.png" />
<link rel="icon" type="image/png" sizes="32x32" href="../../img/favicon-32x32.png" />


    
 
<title>Wind Advanced Examples - Wind Programming Language</title>


<link href="../../css/fontawesome/css/fontawesome.min.css" rel="stylesheet">
<link href="../../css/fontawesome/css/solid.min.css" rel="stylesheet">
<link href="../../css/normalize.css" rel="stylesheet">
<link href="../../css/terminal.css" rel="stylesheet">
<link href="../../css/theme.css" rel="stylesheet">
<link href="../../css/theme.tile_grid.css" rel="stylesheet">
<link href="../../css/theme.footer.css" rel="stylesheet">
<!-- gruvbox_dark color palette -->
<link href="../../css/palettes/gruvbox_dark.css" rel="stylesheet">

<!-- page layout -->
<style>
/* initially set page layout to a one column grid */
.terminal-mkdocs-main-grid {
    display: grid;
    grid-column-gap: 1.4em;
    grid-template-columns: auto;
    grid-template-rows: auto;
}

/*  
*   when side navigation is not hidden, use a two column grid.  
*   if the screen is too narrow, fall back to the initial one column grid layout.
*   in this case the main content will be placed under the navigation panel. 
*/
@media only screen and (min-width: 70em) {
    .terminal-mkdocs-main-grid {
        grid-template-columns: 4fr 9fr;
    }
}</style>



     
    
    

    
    <!-- search css support -->
<link href="../../css/search/bootstrap-modal.css" rel="stylesheet">
<!-- search scripts -->
<script>
    var base_url = "../..",
    shortcuts = "{}";
</script>
<script src="../../js/jquery/jquery-1.10.1.min.js" defer></script>
<script src="../../js/bootstrap/bootstrap.min.js" defer></script>
<script src="../../js/mkdocs/base.js" defer></script>
    
    
    
    
    <script src="../../search/main.js"></script>
    

    
</head>

<body class="terminal"><div class="container">
    <div class="terminal-nav">
        <header class="terminal-logo">
            <div id="mkdocs-terminal-site-name" class="logo terminal-prompt"><a href="https://doc.wind-lang.me/" class="no-style">Wind Programming Language</a></div>
        </header>
        
        <nav class="terminal-menu">
            
            <ul vocab="https://schema.org/" typeof="BreadcrumbList">
                
                
                <li property="itemListElement" typeof="ListItem">
                    <a href="../.." class="menu-item " property="item" typeof="WebPage">
                        <span property="name">Home</span>
                    </a>
                    <meta property="position" content="0">
                </li>
                
                
                <li property="itemListElement" typeof="ListItem">
                    <a href="../quick/" class="menu-item " property="item" typeof="WebPage">
                        <span property="name">Getting Started</span>
                    </a>
                    <meta property="position" content="1">
                </li>
                
                
                <li property="itemListElement" typeof="ListItem">
                    <a href="../syntax/" class="menu-item " property="item" typeof="WebPage">
                        <span property="name">Syntax</span>
                    </a>
                    <meta property="position" content="2">
                </li>
                
                
                <li property="itemListElement" typeof="ListItem">
                    <a href="../../about/" class="menu-item " property="item" typeof="WebPage">
                        <span property="name">About</span>
                    </a>
                    <meta property="position" content="3">
                </li>
                
                    
                    


<li property="itemListElement" typeof="ListItem">
    <a href="#" class="menu-item" data-toggle="modal" data-target="#mkdocs_search_modal" property="item" typeof="SearchAction">
        <i aria-hidden="true" class="fa fa-search"></i> <span property="name">Search</span>
    </a>
    <meta property="position" content="4">
</li>
                    
            </ul>
            
        </nav>
    </div>
</div>
        
    <div class="container">
        <div class="terminal-mkdocs-main-grid"><aside id="terminal-mkdocs-side-panel"><nav>
  
    <ul class="terminal-mkdocs-side-nav-items">
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../..">Home</a>
        
    
    
    
  </li>
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../quick/">Getting Started</a>
        
    
    
    
  </li>
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../syntax/">Syntax</a>
        
    
    
    
  </li>
        
          



<li class="terminal-mkdocs-side-nav-li">
    
    
    
        
        
            <a class="

    terminal-mkdocs-side-nav-item" href="../../about/">About</a>
        
    
    
    
  </li>
        
    </ul>
  
</nav><hr>
<nav>
    <ul>
        <li><a href="#wind-advanced-examples">Wind Advanced Examples</a></li>
        <li><a href="#table-of-contents">Table of Contents</a></li><li><a href="#memory-management">Memory Management</a></li><li><a href="#pointers-and-references">Pointers and References</a></li><li><a href="#error-handling">Error Handling</a></li>
    </ul>
</nav>
</aside>
            <main id="terminal-mkdocs-main-content">
<section id="mkdocs-terminal-content">
    <h1 id="wind-advanced-examples">Wind Advanced Examples</h1>
<p>Welcome to the Wind advanced examples! Here you'll find a collection of advanced code snippets that demonstrate the power and flexibility of the Wind programming language. These examples cover mainly runtime checks and memory management, showcasing how Wind can help you write safe and efficient code.</p>
<hr />
<h2 id="table-of-contents">Table of Contents</h2>
<ul>
<li><a href="#memory-management">Memory Management</a></li>
<li><a href="#pointers-and-references">Pointers and References</a></li>
<li><a href="#error-handling">Error Handling</a></li>
</ul>
<hr />
<h2 id="memory-management">Memory Management</h2>
<p>Here's an example of how you can run read/write data from the user without having to worry about memory leaks, buffer overflows, integer over/underflows or any other memory-related issues.</p>
<pre><code class="language-wind">@include[
    &quot;#libc.wi&quot;
]

func main(): int {
    var buff: [char;32];
    __builtin_memset(buff, 0, 32);

    var user_i: s32;
    printf(&quot;name: &quot;);
    scanf(&quot;%s&quot;, buff);
    printf(&quot;index: &quot;);
    scanf(&quot;%d&quot;, &amp;user_i);
    var user_c: char = buff[user_i];
    var square: s32 = user_i * user_i;
    printf(&quot;buff[%d] = %c ; Squared i = %d\n&quot;, user_i, user_c, square);
    return 0;
}
</code></pre>
<h3 id="protection-breakdown">Protection breakdown</h3>
<ul>
<li>
<p><code>scanf("%s", buff)</code>:</p>
<p><em>No input limit? No problem! There's a canary check that will prevent return address overwrites.</em></p>
</li>
<li>
<p><code>buff[user_i]</code>:</p>
<p><em>Accessing an array out of bounds? Impossible! There are runtime checks that will prevent out-of-bounds access.</em></p>
</li>
<li>
<p><code>user_i * user_i</code>:</p>
<p><em>Integer overflow? Not a chance! Every unsafe arithmetic operation is checked for overflow.</em></p>
</li>
</ul>
<h2 id="pointers-and-references">Pointers and References</h2>
<p>Here's an example of how you can use pointers and references in Wind to create safe and efficient code.</p>
<pre><code class="language-wind">@include[
    &quot;#libc.wi&quot;
]

func get_ptr(): ptr&lt;int&gt; {
    var buff: ptr&lt;int&gt; = guard![malloc(32*900000000)];
    return buff;
}

func main(): int {
    var buff: ptr&lt;int&gt; = get_ptr();
    printf(&quot;Buff: %p\n&quot;, buff);
    return 0;
}
</code></pre>
<h3 id="protection-breakdown_1">Protection breakdown</h3>
<ul>
<li>
<p><code>malloc(32*900000000)</code>:</p>
<p><em>Null pointers? Not here! The <code>guard![]</code> directive will check for null pointers and prevent dereferencing.</em></p>
</li>
</ul>
<h2 id="error-handling">Error Handling</h2>
<p>Here's an example of how you can use error handling in Wind to create robust and reliable code.</p>
<pre><code class="language-wind">@include[
    &quot;#libc.wi&quot;
]

func main(argc: int, argv: ptr&lt;ptr&lt;char&gt;&gt;): int {
    var T: s16=30_000;
    var i: s16=0;

    loop [true] {
        printf(&quot;Enter a number to sum to %d within 16 bits: &quot;, T);
        scanf(&quot;%hu&quot;, &amp;i);
        try {
            T += i;
        }
        [SUM_OF] -&gt; {
            printf(&quot;Sum overflowed 16 bits\n&quot;);
        }
        finally {
            continue;
        }
        break;
    }
    printf(&quot;Sum: %d\n&quot;, T);

    return 0;
}
</code></pre>
<h3 id="protection-breakdown_2">Protection breakdown</h3>
<ul>
<li>
<p><code>T += i</code>:</p>
<p>There could be an overflow here, but it will be caught by default. While <code>[SUM_OF]</code> will set the handler code only for the code inside the <code>try</code> block.
In absence of a try-catch the program would have called the default runtime handler for arithmetic exceptions.</p>
</li>
</ul>
</section>

            </main>
        </div>
        <hr><footer>
    <div class="terminal-mkdocs-footer-grid">
        <div id="terminal-mkdocs-footer-copyright-info">
             Site built with <a href="http://www.mkdocs.org">MkDocs</a> and <a href="https://github.com/ntno/mkdocs-terminal">Terminal for MkDocs</a>.
        </div>
    </div>
</footer>
    </div>

    
    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="alertdialog" aria-modal="true" aria-labelledby="searchModalLabel">
    <div class="modal-dialog modal-lg" role="search">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="searchModalLabel">Search</h5>
                <button type="button" class="close btn btn-default btn-ghost" data-dismiss="modal"><span aria-hidden="true">x</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p id="searchInputLabel">Type to start searching</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" aria-labelledby="searchInputLabel" placeholder="" id="mkdocs-search-query" title="Please enter search terms here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No document matches found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    
    
</body>

</html>